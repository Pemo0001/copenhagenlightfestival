---
// @ts-nocheck
import Layout from "../Layouts/Layout.astro";

export async function getStaticPaths() {
  const data = await fetch("https://oijhleaohshaevohinaq.supabase.co/rest/v1/Lysvaerker", {
    method: "GET",
    headers: {
      apikey:
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9pamhsZWFvaHNoYWV2b2hpbmFxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTA0OTIwMTksImV4cCI6MjAyNjA2ODAxOX0.d6tcpNExeARcaKg_nbpvCISpqGMBEncx-nCb0wIytlE",
    },
  }).then((response) => response.json());

  return data.map((lysværk) => {
    return {
      params: { slug: lysværk.slug },
      props: { myData: lysværk },
    };
  });
}

const { myData } = Astro.props;
//console.log(myData);//
---

<Layout title={myData.name}>
  <img src={myData.hero_image} alt="lysværk heroimage" />
  <img src={myData.list_image} alt="lysværk" />
  <h1>{myData.name}</h1>
  <h2>{myData.name}</h2>
  <h3>{myData.address}</h3>
  <p>{myData.description}</p>
</Layout>
